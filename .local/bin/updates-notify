#!/bin/bash

INTERVAL_IN_HOURS=4

interval_in_seconds=$(( $INTERVAL_IN_HOURS * 3600 ))

notify_if_necessary() {
  number_of_pacman_updates=$(pacman -Qu | wc -l)
  number_of_aur_updates=$(yay -Qua | wc -l)

  num_updates=$(( $number_of_pacman_updates + $number_of_aur_updates ))

  if [ $num_updates -gt 0 ]; then
    notify-send "Updates Available: $num_updates"
  fi
}

while true; do
  notify_if_necessary
  sleep $interval_in_seconds
done
